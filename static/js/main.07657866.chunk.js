(this.webpackJsonpinvoice=this.webpackJsonpinvoice||[]).push([[0],{120:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(0),r=a.n(i),o=a(16),c=a.n(o),l=(a(120),a(21)),s=a(72),d=a(45),u=a(66),b=a(67),m=a(73),j=a(71),h=a(74),p=a.n(h),f=a(10),v=a(206),x=a(208),g=a(143),O=a(61),y=a(103),C=(a(134),a(135),a(136),y.a.initializeApp({apiKey:"AIzaSyDLNOZ--Fpszg1fgwx4asg-NL-cSejaKtk",authDomain:"invoice-fabe8.firebaseapp.com",databaseURL:"https://invoice-fabe8.firebaseio.com",projectId:"invoice-fabe8",storageBucket:"invoice-fabe8.appspot.com",messagingSenderId:"606942701186",appId:"1:606942701186:web:6a87611c8742fdc5c9b69b"})),w=C.firestore(),N=C,k=function(e,t){var a=new Date(e),n=""+(a.getMonth()+1),i=""+a.getDate(),r=a.getFullYear();n.length<2&&(n="0"+n),i.length<2&&(i="0"+i);var o=null;switch(t){case"YYYY-MM-DD":o=[r,n,i].join("-");break;default:o=e}return o},I=function(e){return!!isNaN(e)},S=function(e,t){w.collection(e).add(t)},D=function(e,t){return w.collection(e).doc(t)},A=a(194),R=a(207),W=a(193),P=a(191),F=a(192),B=a(190),E=a(187),L=r.a.forwardRef((function(e,t){return Object(n.jsx)(E.a,Object(l.a)({direction:"up",ref:t},e))})),U=function(e){var t=e.open,a=e.handleClose,i=e.title,r=e.text;return Object(n.jsx)("div",{children:Object(n.jsxs)(R.a,{open:t,TransitionComponent:L,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(B.a,{id:"alert-dialog-slide-title",children:i}),Object(n.jsx)(P.a,{children:Object(n.jsx)(F.a,{id:"alert-dialog-slide-description",children:r})}),Object(n.jsx)(W.a,{children:Object(n.jsx)(A.a,{onClick:a,color:"primary",children:"Got it"})})]})})},K=a(196),M=a(197),Y=a(195),H=a(36),T=[{text:"Invoice Listing",to:"/Invoice"},{text:"Add Invoice",to:"/add-invoice"}],q=function(e){return Object(n.jsx)(H.b,Object(l.a)({to:e.to},e))},z=function(e){var t=e.classes;return T.map((function(e){return Object(n.jsx)(A.a,{variant:"text",color:"primary",children:Object(n.jsx)(Y.a,{component:q,to:e.to,color:"textSecondary",underline:"none",classes:{root:t.link},children:e.text})})}))},G=Object(f.a)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},body:{minHeight:"calc(85vh - 120px)",minWidth:"100%"},footer:{minWidth:"100%",background:"gray",minHeight:60},conatainer:{marginBottom:10},light:{marginTop:"30px",background:"#f8f5f573",color:"#932626",textAlign:"center"},link:{color:"white"},button:{color:"white",textAlign:"center",fontFamily:"Segoe UI",background:"linear-gradient( 90deg, rgba(255, 118, 20, 1) 0%,  rgba(255, 84, 17, 1) 100% )",padding:"16px",borderRadius:"5px",marginLeft:"20px"}})((function(e){var t=e.classes;return Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)(K.a,{position:"relative",color:"primary",children:Object(n.jsxs)(M.a,{children:[Object(n.jsx)(z,{classes:t}),Object(n.jsx)(A.a,{onClick:function(){return N.auth().signOut()},className:t.button,children:"Logout"})]})})})})),V=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getRowClassName=function(t){var a=t.index,n=e.props,i=n.classes,r=n.rowClassName,o=n.onRowClick;return p()(i.tableRow,i.flexContainer,r,Object(d.a)({},i.tableRowHover,-1!==a&&null!=o))},e.cellRenderer=function(t){var a=t.cellData,i=t.columnIndex,r=void 0===i?null:i,o=e.props,c=o.columns,l=o.classes,s=o.rowHeight,u=o.onRowClick;return Object(n.jsx)(v.a,{component:"div",className:p()(l.tableCell,l.flexContainer,Object(d.a)({},l.noClick,null==u)),variant:"body",style:{height:s},align:null!=r&&c[r].numeric?"right":"left",children:a})},e.headerRenderer=function(t){var a,i=t.label,r=t.columnIndex,o=t.dataKey,c=t.sortBy,l=t.sortDirection,s=e.props,u=s.headerHeight,b=s.columns,m=s.classes,j=s.sort,h=(a={},Object(d.a)(a,O.c.ASC,"asc"),Object(d.a)(a,O.c.DESC,"desc"),a),f=b[r].disableSort||null==j?i:Object(n.jsx)(x.a,{active:o===c,direction:h[l],children:i});return Object(n.jsx)(v.a,{component:"div",className:p()(m.tableCell,m.flexContainer,m.noClick),variant:"head",style:{height:u},align:b[r].numeric?"right":"left",children:f})},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,i=t.columns,r=Object(s.a)(t,["classes","columns"]);return Object(n.jsx)(O.a,{children:function(t){var o=t.height,c=t.width;return Object(n.jsx)(O.d,Object(l.a)(Object(l.a)({className:a.table,height:o,width:c},r),{},{rowClassName:e.getRowClassName,children:i.map((function(t,i){var r,o=t.cellContentRenderer,c=void 0===o?null:o,d=t.className,u=t.dataKey,b=Object(s.a)(t,["cellContentRenderer","className","dataKey"]);return r=null!=c?function(t){return e.cellRenderer({cellData:c(t),columnIndex:i})}:e.cellRenderer,Object(n.jsx)(O.b,Object(l.a)({headerRenderer:function(t){return e.headerRenderer(Object(l.a)(Object(l.a)({},t),{},{columnIndex:i}))},className:p()(a.flexContainer,d),cellRenderer:r,dataKey:u},b),u)}))}))}})}}]),a}(r.a.PureComponent);V.defaultProps={headerHeight:70,rowHeight:56};var J=Object(f.a)((function(e){return{table:{fontFamily:e.typography.fontFamily},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial",fontWeight:900,fontSize:"inherit"}}}))(V),Z=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={invoiceList:[],open:!1},e.modifyInvoice=function(t){(0,e.props.history.push)("/edit-invoice/".concat(t.rowData.id))},e.handleClose=function(t){e.setState({open:!1})},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;(e="invoices",w.collection(e)).onSnapshot((function(e){var a=e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})}));t.setState({invoiceList:a,open:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.invoiceList,a=e.open;return Object(n.jsxs)(g.a,{style:{height:600,width:"100%"},elevation:0,children:[Object(n.jsx)(G,{}),Object(n.jsx)(J,{rowCount:t.length,rowGetter:function(e){var a=e.index;return t[a]},onRowClick:this.modifyInvoice,columns:[{width:120,flexGrow:.85,label:"Customer Name",dataKey:"customerName"},{width:120,label:"Phone",dataKey:"phone",numeric:!0},{width:120,label:"Item  Name",dataKey:"itemName"},{width:120,label:"Invoice Amount",dataKey:"invoiceAmount",numeric:!0},{width:120,label:"Invoice Date",dataKey:"invoiceDate",numeric:!0},{width:120,label:"Invoice Status",dataKey:"invoiceStatus",numeric:!0}]}),Object(n.jsx)(U,{open:a,handleClose:this.handleClose,title:"Edit/Delete ?",text:"Click on a row to edit/delete it ?"})]})}}]),a}(r.a.PureComponent),$=a(60),Q=a.n($),X=a(198),_=a(202),ee=a(209),te=a(75),ae=[{value:"PAID",label:"PAID"},{value:"DUE",label:"DUE"}],ne=["phone","invoiceAmount"],ie={customerName:"",itemName:"",invoiceAmount:"",phone:"",invoiceStatus:"",invoiceDate:k(new Date,"YYYY-MM-DD")},re=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state=Object(l.a)({},ie),e.handleClose=function(t){e.setState({open:!1})},e.handleChange=function(t){return function(a){var n=a.target.value,i=!0;ne.some((function(e){return e===t}))&&I(n)&&(i=!1),i&&e.setState(Object(d.a)({},t,n))}},e.handleSubmmit=function(t){var a=e.state,n=!0;for(var i in a)i||(n=!1);n?(S("invoices",e.state),e.setState(Object(l.a)(Object(l.a)({},ie),{},{open:!0}))):alert("Please fill all the fields")},e.goBack=function(t){(0,e.props.history.goBack)()},e.deleteInvoice=function(t){var a=e.props,n=a.history.goBack,i=a.match.params.id;D("invoices",i).delete(),e.setState(Object(l.a)(Object(l.a)({},ie),{},{open:!0})),setTimeout(n,2e3)},e.updateInvoice=function(t){var a=e.props,n=(a.history.goBack,a.match.params.id);D("invoices",n).update(Object(l.a)({},e.state)),e.setState({open:!0})},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.editMode){var t=this.props.match.params.id;D("invoices",t).get().then((function(t){var a=Object(l.a)(Object(l.a)({},t.data()),{},{id:t.id});e.setState(Object(l.a)({},a))}))}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.editMode,i=this.state,r=i.customerName,o=i.itemName,c=i.invoiceAmount,l=i.phone,s=i.invoiceStatus,d=i.invoiceDate,u=i.open,b=!!(r&&o&&c&&l&&s&&d);return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsxs)("form",{className:t.container,noValidate:!0,children:[Object(n.jsx)(te.a,{align:"center",color:"primary",variant:"h5",gutterBottom:!0,children:a?"Edit an invoice ":"Add an invoice"}),Object(n.jsx)(_.a,{id:"outlined-simple-start-adornment",className:Q()(t.margin,t.textField),variant:"outlined",label:"Customer Name",value:r,onChange:this.handleChange("customerName"),InputProps:{startAdornment:Object(n.jsx)(X.a,{position:"start"})},fullWidth:!0}),Object(n.jsx)(_.a,{className:Q()(t.margin,t.textField),variant:"outlined",label:"Phone",value:l,onChange:this.handleChange("phone"),InputProps:{startAdornment:Object(n.jsx)(X.a,{position:"start"})},fullWidth:!0}),Object(n.jsx)(_.a,{className:Q()(t.margin,t.textField),variant:"outlined",label:"Item Name",value:o,onChange:this.handleChange("itemName"),InputProps:{startAdornment:Object(n.jsx)(X.a,{position:"start"})},fullWidth:!0}),Object(n.jsx)(_.a,{id:"outlined-adornment-amount",className:Q()(t.margin,t.textField),variant:"outlined",label:"Invoice Amount",value:c,onChange:this.handleChange("invoiceAmount"),InputProps:{startAdornment:Object(n.jsx)(X.a,{position:"start",children:"$"})},fullWidth:!0}),Object(n.jsx)(_.a,{select:!0,id:"outlined-adornment-password",className:Q()(t.margin,t.textField),variant:"outlined",label:"Status",value:s,onChange:this.handleChange("invoiceStatus"),InputProps:{startAdornment:Object(n.jsx)(X.a,{position:"start"})},fullWidth:!0,children:ae.map((function(e){return Object(n.jsx)(ee.a,{value:e.value,children:e.label},e.value)}))}),Object(n.jsx)(_.a,{id:"date",label:"Invoice Date",type:"date",defaultValue:k(new Date,"YYYY-MM-DD"),className:t.date,InputLabelProps:{shrink:!0},onChange:this.handleChange("invoiceDate"),fullWidth:!0}),a&&Object(n.jsx)(A.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.button,onClick:this.updateInvoice,disabled:!b,children:"Update "}),Object(n.jsx)(A.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.button,onClick:a?this.deleteInvoice:this.handleSubmmit,disabled:!b,children:a?"DELETE ":"ADD"}),Object(n.jsx)(A.a,{fullWidth:!0,variant:"contained",color:"secondary",className:t.button,onClick:this.goBack,children:"GO BACK"})]}),Object(n.jsx)(U,{open:u,handleClose:this.handleClose,title:"Operation successfull",text:"Document operation has been done successfully"})]})}}]),a}(r.a.Component),oe=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",paddingTop:6*e.spacing.unit,maxWidth:500,margin:"auto",border:"1px solid black",padding:5*e.spacing.unit,marginTop:3*e.spacing.unit},margin:{margin:e.spacing.unit},textField:{flexBasis:200,display:"block"},button:{margin:e.spacing.unit},input:{display:"none"},date:{flexBasis:200,display:"block",marginLeft:1.5*e.spacing.unit},container:{width:"100%"}}}))(re),ce=a(25),le=a(59),se=a.n(le),de=a(85),ue=a(92),be=a(199),me=a(203),je=Object(be.a)((function(e){return{loading:{color:"white",textAlign:"center",fontFamily:"Segoe UI",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:900,fontSize:"50px",height:"100vh"}}})),he=r.a.createContext(),pe=function(e){var t=e.children,a=je(),r=Object(i.useState)(null),o=Object(ue.a)(r,2),c=o[0],l=o[1],s=Object(i.useState)(!0),d=Object(ue.a)(s,2),u=d[0],b=d[1];return Object(i.useEffect)((function(){N.auth().onAuthStateChanged((function(e){l(e),b(!1)}))}),[]),u?Object(n.jsx)(me.a,{className:a.loading,children:"Please wait..."}):Object(n.jsx)(he.Provider,{value:{currentUser:c},children:t})},fe=a(200),ve=a(204),xe=a(201),ge=Object(be.a)((function(e){return{paper:{margin:e.spacing(8),padding:e.spacing(8),display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",backgroundColor:"white",borderRadius:"5px"},paperH1:{color:"black",textAlign:"center",fontFamily:"Segoe UI"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Oe(e){var t=e.history,a=ge(),r=Object(i.useCallback)(function(){var e=Object(de.a)(se.a.mark((function e(a){var n,i,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,i=n.email,r=n.password,e.prev=2,e.next=5,N.auth().signInWithEmailAndPassword(i.value,r.value);case 5:t.push("/Invoice"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(i.useContext)(he).currentUser?Object(n.jsx)(ce.a,{to:"/Invoice"}):Object(n.jsxs)("div",{className:a.paper,children:[Object(n.jsx)(te.a,{component:"h1",variant:"h5",className:a.paperH1,children:"Sign in"}),Object(n.jsxs)("form",{onSubmit:r,className:a.form,noValidate:!0,children:[Object(n.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(n.jsx)(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(n.jsx)(fe.a,{control:Object(n.jsx)(ve.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(n.jsx)(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Sign In"}),Object(n.jsxs)(xe.a,{container:!0,children:[Object(n.jsx)(xe.a,{item:!0,xs:!0}),Object(n.jsx)(xe.a,{item:!0,children:Object(n.jsx)(H.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})}var ye=Object(be.a)((function(e){return{paper:{margin:e.spacing(8),padding:e.spacing(8),display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",backgroundColor:"white",borderRadius:"5px"},paperH1:{color:"black",textAlign:"center",fontFamily:"Segoe UI"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function Ce(e){var t=e.history,a=ye(),r=Object(i.useCallback)(function(){var e=Object(de.a)(se.a.mark((function e(a){var n,i,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,i=n.email,r=n.password,e.prev=2,e.next=5,N.auth().createUserWithEmailAndPassword(i.value,r.value);case 5:t.push("/Invoice"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(n.jsxs)("div",{className:a.paper,children:[Object(n.jsx)(te.a,{component:"h1",variant:"h5",className:a.paperH1,children:"Sign up"}),Object(n.jsxs)("form",{onSubmit:r,className:a.form,noValidate:!0,children:[Object(n.jsxs)(xe.a,{container:!0,spacing:2,children:[Object(n.jsx)(xe.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(_.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(n.jsx)(xe.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(_.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})}),Object(n.jsx)(xe.a,{item:!0,xs:12,children:Object(n.jsx)(_.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(n.jsx)(xe.a,{item:!0,xs:12,children:Object(n.jsx)(_.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(n.jsx)(A.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Sign Up"}),Object(n.jsx)(xe.a,{container:!0,justify:"flex-end",children:Object(n.jsx)(xe.a,{item:!0,children:Object(n.jsx)(H.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})}a(140);var we=function(e){var t=e.component,a=Object(s.a)(e,["component"]),r=Object(i.useContext)(he).currentUser;return Object(n.jsx)(ce.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return r?Object(n.jsx)(t,Object(l.a)({},e)):Object(n.jsx)(ce.a,{to:"/login"})}}))},Ne=function(e){return Object(n.jsx)(pe,{children:Object(n.jsxs)(H.a,{children:[Object(n.jsx)(we,{path:"/Invoice",exact:!0,component:function(e){return Object(n.jsx)(Z,Object(l.a)({},e))}}),Object(n.jsx)(we,{path:"/add-invoice",exact:!0,component:function(e){return Object(n.jsx)(oe,Object(l.a)({},e))}}),Object(n.jsx)(we,{path:"/edit-invoice/:id",exact:!0,component:function(e){return Object(n.jsx)(oe,Object(l.a)({editMode:!0},e))}}),Object(n.jsx)(ce.b,{exact:!0,path:"/login",component:Oe}),Object(n.jsx)(ce.b,{exact:!0,path:"/signup",component:Ce})]})})};c.a.render(Object(n.jsx)(H.a,{children:Object(n.jsx)(Ne,{})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.07657866.chunk.js.map